{"ast":null,"code":"import _classCallCheck from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{ChatBox}from'react-chatbox-component';import'react-chatbox-component/dist/style.css';import{displayMessage}from\"./actions/ChatActions\";import PatientHeader from\"../PatientDashboard/components/PatientHeader/PatientHeader\";import{getMessages,sendMessage}from\"../../actions/message\";var PatientChatPage=/*#__PURE__*/function(_React$Component){_inherits(PatientChatPage,_React$Component);var _super=_createSuper(PatientChatPage);function PatientChatPage(props){var _this;_classCallCheck(this,PatientChatPage);_this=_super.call(this,props);_this.props.history.push(\"/ChatPage/PatientChatPage\");_this.state={name:_this.props.app.state.currentPatient.username,messages:[],user:{\"uid\":'2'},doctor:_this.props.app.state.contactDoctor.doctor,isDoctor:false};return _this;}_createClass(PatientChatPage,[{key:\"componentDidMount\",value:function componentDidMount(){getMessages(this);}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,history=_this$props.history,app=_this$props.app;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(PatientHeader,{history:history,app:app,name:this.state.name}),/*#__PURE__*/React.createElement(\"div\",{className:\"dmain\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dcontainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"chat-header\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Welcome \",this.state.name)),/*#__PURE__*/React.createElement(ChatBox,{messages:this.state.messages,user:this.state.user,onSubmit:function onSubmit(message){sendMessage(message,_this2);displayMessage(message,_this2);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"dinfo\"},/*#__PURE__*/React.createElement(\"p\",{className:\"dinfo-p\"},\"Doctor info\"),/*#__PURE__*/React.createElement(\"table\",{className:\"dinfo-table\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Name:\"),/*#__PURE__*/React.createElement(\"td\",null,this.state.doctor.username)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Type:\"),/*#__PURE__*/React.createElement(\"td\",null,this.state.doctor.doctorType)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Location:\"),/*#__PURE__*/React.createElement(\"td\",null,this.state.doctor.location)))))));}}]);return PatientChatPage;}(React.Component);export default PatientChatPage;","map":{"version":3,"sources":["/Users/yehuang/309_group/client/src/components/ChatPage/PatientChatPage.js"],"names":["React","ChatBox","displayMessage","PatientHeader","getMessages","sendMessage","PatientChatPage","props","history","push","state","name","app","currentPatient","username","messages","user","doctor","contactDoctor","isDoctor","message","doctorType","location","Component"],"mappings":"wkBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,KAAsB,yBAAtB,CACA,MAAO,wCAAP,CACA,OAAQC,cAAR,KAA6B,uBAA7B,CACA,MAAOC,CAAAA,aAAP,KAA0B,4DAA1B,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,uBAAvC,C,GAGMC,CAAAA,e,8HACF,yBAAYC,KAAZ,CAAmB,iDACf,uBAAMA,KAAN,EACA,MAAKA,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,2BAAxB,EACA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,MAAKJ,KAAL,CAAWK,GAAX,CAAeF,KAAf,CAAqBG,cAArB,CAAoCC,QADjC,CAETC,QAAQ,CAAE,EAFD,CAGTC,IAAI,CAAE,CAAC,MAAO,GAAR,CAHG,CAITC,MAAM,CAAE,MAAKV,KAAL,CAAWK,GAAX,CAAeF,KAAf,CAAqBQ,aAArB,CAAmCD,MAJlC,CAKTE,QAAQ,CAAE,KALD,CAAb,CAHe,aAUlB,C,yFAEmB,CAChBf,WAAW,CAAC,IAAD,CAAX,CACH,C,uCAEQ,iCACkB,KAAKG,KADvB,CACEC,OADF,aACEA,OADF,CACWI,GADX,aACWA,GADX,CAEL,mBACI,4CACI,oBAAC,aAAD,EAAe,OAAO,CAAEJ,OAAxB,CAAiC,GAAG,CAAEI,GAAtC,CAA2C,IAAI,CAAE,KAAKF,KAAL,CAAWC,IAA5D,EADJ,cAEI,2BAAK,SAAS,CAAC,OAAf,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,2BAAK,SAAS,CAAC,aAAf,eACI,yCAAa,KAAKD,KAAL,CAAWC,IAAxB,CADJ,CADJ,cAII,oBAAC,OAAD,EAAS,QAAQ,CAAE,KAAKD,KAAL,CAAWK,QAA9B,CAAwC,IAAI,CAAE,KAAKL,KAAL,CAAWM,IAAzD,CACS,QAAQ,CAAE,kBAACI,OAAD,CAAa,CACnBf,WAAW,CAACe,OAAD,CAAU,MAAV,CAAX,CACAlB,cAAc,CAACkB,OAAD,CAAU,MAAV,CAAd,CACH,CAJV,EAJJ,CADJ,cAaI,2BAAK,SAAS,CAAC,OAAf,eACI,yBAAG,SAAS,CAAC,SAAb,gBADJ,cAEI,6BAAO,SAAS,CAAC,aAAjB,eACI,8CACA,2CACI,sCADJ,cAEI,8BAAK,KAAKV,KAAL,CAAWO,MAAX,CAAkBH,QAAvB,CAFJ,CADA,cAKA,2CACI,sCADJ,cAEI,8BAAK,KAAKJ,KAAL,CAAWO,MAAX,CAAkBI,UAAvB,CAFJ,CALA,cASA,2CACI,0CADJ,cAEI,8BAAK,KAAKX,KAAL,CAAWO,MAAX,CAAkBK,QAAvB,CAFJ,CATA,CADJ,CAFJ,CAbJ,CAFJ,CADJ,CAsCH,C,6BAzDyBtB,KAAK,CAACuB,S,EA4DpC,cAAejB,CAAAA,eAAf","sourcesContent":["import React from \"react\";\nimport {ChatBox} from 'react-chatbox-component';\nimport 'react-chatbox-component/dist/style.css';\nimport {displayMessage} from \"./actions/ChatActions\";\nimport PatientHeader from \"../PatientDashboard/components/PatientHeader/PatientHeader\";\nimport {getMessages, sendMessage} from \"../../actions/message\";\n\n\nclass PatientChatPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.props.history.push(\"/ChatPage/PatientChatPage\");\n        this.state = {\n            name: this.props.app.state.currentPatient.username,\n            messages: [],\n            user: {\"uid\": '2'},\n            doctor: this.props.app.state.contactDoctor.doctor,\n            isDoctor: false\n        };\n    }\n\n    componentDidMount() {\n        getMessages(this);\n    }\n\n    render() {\n        const {history, app} = this.props;\n        return (\n            <div>\n                <PatientHeader history={history} app={app} name={this.state.name}/>\n                <div className='dmain'>\n                    <div className='dcontainer'>\n                        <div className='chat-header'>\n                            <h5>Welcome {this.state.name}</h5>\n                        </div>\n                        <ChatBox messages={this.state.messages} user={this.state.user}\n                                 onSubmit={(message) => {\n                                     sendMessage(message, this);\n                                     displayMessage(message, this)\n                                 }\n                                 }\n                        />\n                    </div>\n                    <div className='dinfo'>\n                        <p className='dinfo-p'>Doctor info</p>\n                        <table className='dinfo-table'>\n                            <tbody>\n                            <tr>\n                                <td>Name:</td>\n                                <td>{this.state.doctor.username}</td>\n                            </tr>\n                            <tr>\n                                <td>Type:</td>\n                                <td>{this.state.doctor.doctorType}</td>\n                            </tr>\n                            <tr>\n                                <td>Location:</td>\n                                <td>{this.state.doctor.location}</td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default PatientChatPage;\n"]},"metadata":{},"sourceType":"module"}