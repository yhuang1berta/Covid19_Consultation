{"ast":null,"code":"import _classCallCheck from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Container,Button}from\"reactstrap\";import{Grid,Cell}from\"react-mdl\";import{uid}from\"react-uid\";import{setPatientChatPage}from\"../../../../actions/message\";import CurrentNews from\"../../../HomePage/currentnews\";import Cases from\"../../../HomePage/Cases\";import{readPatientVisitHistory}from\"../../../../actions/patients\";import\"./ProfileTable.css\";var ProfileTable=/*#__PURE__*/function(_React$Component){_inherits(ProfileTable,_React$Component);var _super=_createSuper(ProfileTable);function ProfileTable(props){var _this;_classCallCheck(this,ProfileTable);_this=_super.call(this,props);_this.state={patient:_this.props.patient,loading:true};return _this;}_createClass(ProfileTable,[{key:\"displayHistory\",value:function displayHistory(){console.log(this.state.patient.visit_history);var _this$props=this.props,app=_this$props.app,history=_this$props.history;if(this.state.patient.visit_history.length>=1){var visits=this.state.patient.visit_history.map(function(visit,index){if(index<8){return/*#__PURE__*/React.createElement(\"li\",{key:uid(visit)},/*#__PURE__*/React.createElement(\"h5\",null,\"Dr. \",visit.username,\" (\",visit.doctorType,\")\"),/*#__PURE__*/React.createElement(Button,{id:visit.username,onClick:function onClick(event){return setPatientChatPage(visit.username,app,history);}},\"chat\"));}});return/*#__PURE__*/React.createElement(\"ul\",{className:\"visit\"},visits);}else{return/*#__PURE__*/React.createElement(\"h3\",null,\"No visit history currently!\");}}},{key:\"componentWillMount\",value:function componentWillMount(){readPatientVisitHistory(this);// this.visit_history = this.displayHistory()\n}},{key:\"render\",value:function render(){if(this.state.loading){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(Cell,{col:10},/*#__PURE__*/React.createElement(\"div\",{className:\"outer_box\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h1\",{className:\"loading\"},\"Loading Dashboard, please wait!\"))),/*#__PURE__*/React.createElement(Cell,{col:2},/*#__PURE__*/React.createElement(CurrentNews,null)))));}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(Cell,{col:10},/*#__PURE__*/React.createElement(\"div\",{className:\"outer_box\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"current_news\"},/*#__PURE__*/React.createElement(Cases,{p:this.state.province})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null))),/*#__PURE__*/React.createElement(Cell,{col:2},/*#__PURE__*/React.createElement(\"div\",{className:\"visit_history\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h3\",{className:\"historyHeader\"},\"Visit History:\"),this.displayHistory())))));}}}]);return ProfileTable;}(React.Component);export default ProfileTable;","map":{"version":3,"sources":["/Users/yehuang/309_group/client/src/components/PatientDashboard/components/ProfileTable/ProfileTable.js"],"names":["React","Container","Button","Grid","Cell","uid","setPatientChatPage","CurrentNews","Cases","readPatientVisitHistory","ProfileTable","props","state","patient","loading","console","log","visit_history","app","history","length","visits","map","visit","index","username","doctorType","event","province","displayHistory","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Container, Button } from \"reactstrap\";\nimport { Grid, Cell } from \"react-mdl\";\nimport { uid } from \"react-uid\";\nimport { setPatientChatPage } from \"../../../../actions/message\";\nimport CurrentNews from \"../../../HomePage/currentnews\";\nimport Cases from \"../../../HomePage/Cases\";\nimport { readPatientVisitHistory } from \"../../../../actions/patients\";\nimport \"./ProfileTable.css\";\n\nclass ProfileTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      patient: this.props.patient,\n      loading: true,\n    };\n  }\n\n  displayHistory() {\n    console.log(this.state.patient.visit_history);\n    const { app, history } = this.props;\n    if (this.state.patient.visit_history.length >= 1) {\n      const visits = this.state.patient.visit_history.map(function (\n        visit,\n        index\n      ) {\n        if (index < 8) {\n          return (\n            <li key={uid(visit)}>\n              <h5>\n                Dr. {visit.username} ({visit.doctorType})\n              </h5>\n              <Button\n                id={visit.username}\n                onClick={(event) =>\n                  setPatientChatPage(visit.username, app, history)\n                }\n              >\n                chat\n              </Button>\n            </li>\n          );\n        }\n      });\n      return <ul className=\"visit\">{visits}</ul>;\n    } else {\n      return <h3>No visit history currently!</h3>;\n    }\n  }\n\n  componentWillMount() {\n    readPatientVisitHistory(this);\n    // this.visit_history = this.displayHistory()\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div>\n          <Container>\n            <Grid>\n              <Cell col={10}>\n                <div className=\"outer_box\">\n                  <br></br>\n                  <br></br>\n                  <br></br>\n                  <h1 className=\"loading\">Loading Dashboard, please wait!</h1>\n                </div>\n              </Cell>\n              <Cell col={2}>\n                <CurrentNews />\n              </Cell>\n            </Grid>\n          </Container>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <Container>\n            <Grid>\n              <Cell col={10}>\n                <div className=\"outer_box\">\n                  <br></br>\n                  <br></br>\n                  {/* <div className=\"profilePic\">\n                                        <img alt=\"\"/>\n                                    </div> */}\n                  <div className=\"current_news\">\n                    <Cases p={this.state.province} />\n                  </div>\n                  <br></br>\n                  <br></br>\n                </div>\n              </Cell>\n              <Cell col={2}>\n                <div className=\"visit_history\">\n                  <br></br>\n                  <h3 className=\"historyHeader\">Visit History:</h3>\n                  {this.displayHistory()}\n                </div>\n              </Cell>\n            </Grid>\n          </Container>\n        </div>\n      );\n    }\n  }\n}\n\nexport default ProfileTable;\n"]},"metadata":{},"sourceType":"module"}