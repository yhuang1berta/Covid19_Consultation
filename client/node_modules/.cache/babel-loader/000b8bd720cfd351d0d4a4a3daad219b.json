{"ast":null,"code":"import _classCallCheck from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Container,Button}from\"reactstrap\";import{Grid,Cell}from\"react-mdl\";import{uid}from'react-uid';import{setPatientChatPage}from\"../../../../actions/message\";import CurrentNews from\"../../../HomePage/currentnews\";import Cases from\"../../../HomePage/Cases\";import{readPatientVisitHistory}from\"../../../../actions/patients\";import\"./ProfileTable.css\";var ProfileTable=/*#__PURE__*/function(_React$Component){_inherits(ProfileTable,_React$Component);var _super=_createSuper(ProfileTable);function ProfileTable(props){var _this;_classCallCheck(this,ProfileTable);_this=_super.call(this,props);_this.app=props.app;_this.history=props.history;_this.state={patient:_this.props.patient,loading:true};return _this;}_createClass(ProfileTable,[{key:\"displayHistory\",value:function displayHistory(){console.log(this.state.patient.visit_history);if(this.state.patient.visit_history.length>=1){var visits=this.state.patient.visit_history.map(function(visit,index){var _this2=this;if(index<8){return/*#__PURE__*/React.createElement(\"li\",{key:uid(visit)},/*#__PURE__*/React.createElement(\"h5\",null,\"Dr. \",visit.username,\" (\",visit.doctorType,\")\"),/*#__PURE__*/React.createElement(Button,{id:visit.username,onClick:function onClick(event){return setPatientChatPage(visit.username,_this2.app,_this2.history);}},\"chat\"));}});return/*#__PURE__*/React.createElement(\"ul\",{className:\"visit\"},visits);}else{return/*#__PURE__*/React.createElement(\"h3\",null,\"No visit history currently!\");}}},{key:\"componentWillMount\",value:function componentWillMount(){readPatientVisitHistory(this);// this.visit_history = this.displayHistory()\n}},{key:\"render\",value:function render(){if(this.state.loading){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(Cell,{col:10},/*#__PURE__*/React.createElement(\"div\",{className:\"outer_box\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h1\",{className:\"loading\"},\"Loading Dashboard, please wait!\"))),/*#__PURE__*/React.createElement(Cell,{col:2},/*#__PURE__*/React.createElement(CurrentNews,null)))));}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(Cell,{col:10},/*#__PURE__*/React.createElement(\"div\",{className:\"outer_box\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"current_news\"},/*#__PURE__*/React.createElement(Cases,{p:this.state.province})))),/*#__PURE__*/React.createElement(Cell,{col:2},/*#__PURE__*/React.createElement(\"div\",{className:\"visit_history\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"historyHeader\"},\"Visit History:\"),this.displayHistory())))));}}}]);return ProfileTable;}(React.Component);export default ProfileTable;","map":{"version":3,"sources":["/Users/yehuang/309_group/client/src/components/PatientDashboard/components/ProfileTable/ProfileTable.js"],"names":["React","Container","Button","Grid","Cell","uid","setPatientChatPage","CurrentNews","Cases","readPatientVisitHistory","ProfileTable","props","app","history","state","patient","loading","console","log","visit_history","length","visits","map","visit","index","username","doctorType","event","province","displayHistory","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Container, Button} from \"reactstrap\";\nimport { Grid ,Cell } from \"react-mdl\"\nimport {uid} from 'react-uid'\nimport {setPatientChatPage} from \"../../../../actions/message\";\nimport CurrentNews from \"../../../HomePage/currentnews\"\nimport Cases from \"../../../HomePage/Cases\"\nimport { readPatientVisitHistory } from \"../../../../actions/patients\"\nimport \"./ProfileTable.css\"\n\nclass ProfileTable extends React.Component {\n    \n    constructor(props) {\n        super(props)\n        this.app = props.app\n        this.history = props.history\n        this.state = {\n            patient: this.props.patient,\n            loading: true\n        }\n    }\n\n    displayHistory() {\n        console.log(this.state.patient.visit_history)\n        if (this.state.patient.visit_history.length >= 1) {\n            const visits = this.state.patient.visit_history.map(function(visit, index) {\n                if (index < 8) {\n                    return (\n                        <li key={uid(visit)}>\n                            <h5>Dr. {visit.username} ({visit.doctorType})</h5>\n                            <Button id={visit.username}\n                                    onClick={(event) => setPatientChatPage(visit.username, this.app, this.history)}>chat\n                            </Button>\n                        </li>\n                    )\n                }\n            })\n            return (\n                <ul className=\"visit\">\n                    {visits}\n                </ul>\n            )\n        } else {\n            return(<h3>No visit history currently!</h3>)\n        }\n    }\n\n    componentWillMount() {\n        readPatientVisitHistory(this)\n        // this.visit_history = this.displayHistory()\n    }\n\n    render() {\n        \n        if (this.state.loading) {\n            return (\n            <div>\n                <Container>\n                    <Grid>\n                        <Cell col={10}>\n                            <div className=\"outer_box\">\n                                <br></br>\n                                <br></br>\n                                <br></br>\n                                <h1 className=\"loading\">Loading Dashboard, please wait!</h1>\n                            </div>\n                        </Cell>\n                        <Cell col={2}>\n                            <CurrentNews/>\n                        </Cell>\n                    </Grid>\n                </Container>\n            </div>\n            )\n        }\n        else {\n            return(\n                <div>\n                    <Container>\n                        <Grid>\n                            <Cell col={10}>\n                                <div className=\"outer_box\">\n                                    <br></br>\n                                    <br></br>\n                                    <br></br>\n                                    {/* <div className=\"profilePic\">\n                                        <img alt=\"\"/>\n                                    </div> */}\n                                    <div className=\"current_news\">\n                                        <Cases p={this.state.province}/>\n                                    </div>\n                                </div>\n                            </Cell>\n                            <Cell col={2}>\n                                <div className=\"visit_history\">\n                                    <h3 className=\"historyHeader\">Visit History:</h3>\n                                    {this.displayHistory()}\n                                </div>\n                            </Cell>\n                        </Grid>\n                    </Container>\n                    </div>\n            )\n        }\n    }\n}\n\nexport default ProfileTable;\n"]},"metadata":{},"sourceType":"module"}