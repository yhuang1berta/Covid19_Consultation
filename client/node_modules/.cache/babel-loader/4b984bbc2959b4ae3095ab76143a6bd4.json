{"ast":null,"code":"var _jsxFileName = \"/Users/yehuang/covid_consultant/client/src/components/PatientDashboard/components/ProfileTable/ProfileTable.js\";\nimport React from \"react\";\nimport { Container, Button } from \"reactstrap\";\nimport { Grid, Cell } from \"react-mdl\";\nimport { uid } from \"react-uid\";\nimport { setPatientChatPage } from \"../../../../actions/message\";\nimport CurrentNews from \"../../../HomePage/currentnews\";\nimport Cases from \"../../../HomePage/Cases\";\nimport { readPatientVisitHistory } from \"../../../../actions/patients\";\nimport \"./ProfileTable.css\";\n\nclass ProfileTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      patient: this.props.patient,\n      loading: true\n    };\n  }\n\n  displayHistory() {\n    console.log(this.state.patient.visit_history);\n    const {\n      app,\n      history\n    } = this.props;\n\n    if (this.state.patient.visit_history.length >= 1) {\n      const visits = this.state.patient.visit_history.map(function (visit, index) {\n        if (index < 8) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: uid(visit),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"h5\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 15\n            }\n          }, \"Dr. \", visit.username, \" (\", visit.doctorType, \")\"), /*#__PURE__*/React.createElement(Button, {\n            id: visit.username,\n            onClick: event => setPatientChatPage(visit.username, app, history),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 15\n            }\n          }, \"chat\"));\n        }\n      });\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"visit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 14\n        }\n      }, visits);\n    } else {\n      return /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 14\n        }\n      }, \"No visit history currently!\");\n    }\n  }\n\n  componentWillMount() {\n    readPatientVisitHistory(this); // this.visit_history = this.displayHistory()\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Cell, {\n        col: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"outer_box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"loading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 19\n        }\n      }, \"Loading Dashboard, please wait!\"))), /*#__PURE__*/React.createElement(Cell, {\n        col: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CurrentNews, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      })))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Cell, {\n        col: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"outer_box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"current_news\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Cases, {\n        p: this.state.province,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(Cell, {\n        col: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"visit_history\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"historyHeader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 19\n        }\n      }, \"Visit History:\"), this.displayHistory())))));\n    }\n  }\n\n}\n\nexport default ProfileTable;","map":{"version":3,"sources":["/Users/yehuang/covid_consultant/client/src/components/PatientDashboard/components/ProfileTable/ProfileTable.js"],"names":["React","Container","Button","Grid","Cell","uid","setPatientChatPage","CurrentNews","Cases","readPatientVisitHistory","ProfileTable","Component","constructor","props","state","patient","loading","displayHistory","console","log","visit_history","app","history","length","visits","map","visit","index","username","doctorType","event","componentWillMount","render","province"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Container, Button } from \"reactstrap\";\nimport { Grid, Cell } from \"react-mdl\";\nimport { uid } from \"react-uid\";\nimport { setPatientChatPage } from \"../../../../actions/message\";\nimport CurrentNews from \"../../../HomePage/currentnews\";\nimport Cases from \"../../../HomePage/Cases\";\nimport { readPatientVisitHistory } from \"../../../../actions/patients\";\nimport \"./ProfileTable.css\";\n\nclass ProfileTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      patient: this.props.patient,\n      loading: true,\n    };\n  }\n\n  displayHistory() {\n    console.log(this.state.patient.visit_history);\n    const { app, history } = this.props;\n    if (this.state.patient.visit_history.length >= 1) {\n      const visits = this.state.patient.visit_history.map(function (\n        visit,\n        index\n      ) {\n        if (index < 8) {\n          return (\n            <li key={uid(visit)}>\n              <h5>\n                Dr. {visit.username} ({visit.doctorType})\n              </h5>\n              <Button\n                id={visit.username}\n                onClick={(event) =>\n                  setPatientChatPage(visit.username, app, history)\n                }\n              >\n                chat\n              </Button>\n            </li>\n          );\n        }\n      });\n      return <ul className=\"visit\">{visits}</ul>;\n    } else {\n      return <h3>No visit history currently!</h3>;\n    }\n  }\n\n  componentWillMount() {\n    readPatientVisitHistory(this);\n    // this.visit_history = this.displayHistory()\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div>\n          <Container>\n            <Grid>\n              <Cell col={10}>\n                <div className=\"outer_box\">\n                  <br></br>\n                  <br></br>\n                  <br></br>\n                  <h1 className=\"loading\">Loading Dashboard, please wait!</h1>\n                </div>\n              </Cell>\n              <Cell col={2}>\n                <CurrentNews />\n              </Cell>\n            </Grid>\n          </Container>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <Container>\n            <Grid>\n              <Cell col={10}>\n                <div className=\"outer_box\">\n                  <br></br>\n                  <br></br>\n                  {/* <div className=\"profilePic\">\n                                        <img alt=\"\"/>\n                                    </div> */}\n                  <div className=\"current_news\">\n                    <Cases p={this.state.province} />\n                  </div>\n                  <br></br>\n                  <br></br>\n                </div>\n              </Cell>\n              <Cell col={2}>\n                <div className=\"visit_history\">\n                  <br></br>\n                  <h3 className=\"historyHeader\">Visit History:</h3>\n                  {this.displayHistory()}\n                </div>\n              </Cell>\n            </Grid>\n          </Container>\n        </div>\n      );\n    }\n  }\n}\n\nexport default ProfileTable;\n"]},"metadata":{},"sourceType":"module"}