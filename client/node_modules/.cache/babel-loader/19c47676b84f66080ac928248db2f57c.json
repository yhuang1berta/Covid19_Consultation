{"ast":null,"code":"import _classCallCheck from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yehuang/309_group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Container}from\"reactstrap\";import{DataTable,TableHeader}from\"react-mdl\";import{getPatients}from\"../../../actions/doctor\";import Patient from\"../Patient/Patient\";import\"./styles.css\";var SearchBar=/*#__PURE__*/function(_React$Component){_inherits(SearchBar,_React$Component);var _super=_createSuper(SearchBar);function SearchBar(props){var _this;_classCallCheck(this,SearchBar);_this=_super.call(this,props);_this.handleChange=function(event){_this.setState({keyword:event.target.value});};_this.state={keyword:\"\",found:[],search_result:null,patients:[],watchlist:props.state.currentDoctor.watchlist};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleAdd=_this.handleAdd.bind(_assertThisInitialized(_this));return _this;}_createClass(SearchBar,[{key:\"showSearch\",value:function showSearch(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"br\",null),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(DataTable,{className:\"dtable\",shadow:0,rows:[this.state.found]},/*#__PURE__*/React.createElement(TableHeader,{name:\"userId\",tooltip:\"The id of patients\"},\"Id\"),/*#__PURE__*/React.createElement(TableHeader,{name:\"name\",tooltip:\"The name of patients\"},\"Name\"),/*#__PURE__*/React.createElement(TableHeader,{name:\"province\",tooltip:\"The province of patient(s)\"},\"Province\"),/*#__PURE__*/React.createElement(TableHeader,{name:\"age\",tooltip:\"The age of patient(s)\"},\"Age\"),/*#__PURE__*/React.createElement(TableHeader,{name:\"province\",tooltip:\"The gender of patient(s)\"},\"Gender\"),/*#__PURE__*/React.createElement(TableHeader,{name:\"add\"},\"Add\")));}},{key:\"handleClick\",value:function handleClick(){var _this2=this;// check if name or id matches\ngetPatients(this);var found_patients=[];if(this.state.keyword.length<1){this.state.found=this.state.patients.map(function(user){return{name:/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:user.username,onChange:_this2.handleNameChange}),Id:user._id,password:/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:_this2.handlePasswordChange}),province:/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:user.province,onChange:_this2.handleProvinceChange}),age:/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:user.age,onChange:_this2.handleAgeChange})// edit: <button onClick={()=> updatePatient(this, user)} >Edit</button>\n};});}else{this.patients.filter(function(patient){if(patient._id===_this2.state.keyword||patient.username===_this2.state.keyword){found_patients.push(patient);}});this.state.found=found_patients.map(function(user){return{name:/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:user.username,onChange:_this2.handleNameChange}),Id:user._id,password:/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:_this2.handlePasswordChange}),province:/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:user.province,onChange:_this2.handleProvinceChange}),age:/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:user.age,onChange:_this2.handleAgeChange})// edit: <button onClick={()=> updatePatient(this, user)} >Edit</button>\n};});}}},{key:\"render\",value:function render(){var _this3=this;var app=this.props.app;return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"div\",{className:\"SearchBar\"},/*#__PURE__*/React.createElement(\"label\",null,\"Search Patient:\",/*#__PURE__*/React.createElement(\"input\",{className:\"input\",type:\"text\",placeholder:\"Search a patient by username or id\",value:this.state.keyword,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"button\",{className:\"button\",type:\"text\",value:\"Search\",onClick:function onClick(){return _this3.handleClick();}},\"Search\"),this.showSearch())),/*#__PURE__*/React.createElement(\"ul\",null,app.state.currentDoctor.watchlist.map(function(patient){return/*#__PURE__*/React.createElement(\"li\",{key:patient.userId},/*#__PURE__*/React.createElement(Patient,{key:patient.userId,name:patient.name,userId:patient.userId,checkList:patient.checklist,province:patient.province}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null));})));}}]);return SearchBar;}(React.Component);export default SearchBar;","map":{"version":3,"sources":["/Users/yehuang/309_group/client/src/components/DoctorDashboard/SearchBar/SearchBar.js"],"names":["React","Container","DataTable","TableHeader","getPatients","Patient","SearchBar","props","handleChange","event","setState","keyword","target","value","state","found","search_result","patients","watchlist","currentDoctor","handleClick","bind","handleAdd","found_patients","length","map","user","name","username","handleNameChange","Id","_id","password","handlePasswordChange","province","handleProvinceChange","age","handleAgeChange","filter","patient","push","app","showSearch","userId","checklist","Component"],"mappings":"8uBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,YAA1B,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,WAAvC,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAO,cAAP,C,GAEMC,CAAAA,S,kHACJ,mBAAYC,KAAZ,CAAmB,2CACjB,uBAAMA,KAAN,EADiB,MAanBC,YAbmB,CAaJ,SAACC,KAAD,CAAW,CACxB,MAAKC,QAAL,CAAc,CACZC,OAAO,CAAEF,KAAK,CAACG,MAAN,CAAaC,KADV,CAAd,EAGD,CAjBkB,CAEjB,MAAKC,KAAL,CAAa,CACXH,OAAO,CAAE,EADE,CAEXI,KAAK,CAAE,EAFI,CAGXC,aAAa,CAAE,IAHJ,CAIXC,QAAQ,CAAE,EAJC,CAKXC,SAAS,CAAEX,KAAK,CAACO,KAAN,CAAYK,aAAZ,CAA0BD,SAL1B,CAAb,CAOA,MAAKE,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CACA,MAAKC,SAAL,CAAiB,MAAKA,SAAL,CAAeD,IAAf,+BAAjB,CAViB,aAWlB,C,qEAQY,CAEX,mBACE,4CACE,8BADF,kBACY,8BADZ,cAEE,oBAAC,SAAD,EAAW,SAAS,CAAC,QAArB,CAA8B,MAAM,CAAE,CAAtC,CAAyC,IAAI,CAAE,CAAC,KAAKP,KAAL,CAAWC,KAAZ,CAA/C,eACE,oBAAC,WAAD,EAAa,IAAI,CAAC,QAAlB,CAA2B,OAAO,CAAC,oBAAnC,OADF,cAIE,oBAAC,WAAD,EAAa,IAAI,CAAC,MAAlB,CAAyB,OAAO,CAAC,sBAAjC,SAJF,cAOE,oBAAC,WAAD,EAAa,IAAI,CAAC,UAAlB,CAA6B,OAAO,CAAC,4BAArC,aAPF,cAUE,oBAAC,WAAD,EAAa,IAAI,CAAC,KAAlB,CAAwB,OAAO,CAAC,uBAAhC,QAVF,cAaE,oBAAC,WAAD,EAAa,IAAI,CAAC,UAAlB,CAA6B,OAAO,CAAC,0BAArC,WAbF,cAgBE,oBAAC,WAAD,EAAa,IAAI,CAAC,KAAlB,QAhBF,CAFF,CADF,CAuBD,C,iDAEa,iBACZ;AACAX,WAAW,CAAC,IAAD,CAAX,CAEA,GAAMmB,CAAAA,cAAc,CAAG,EAAvB,CACA,GAAI,KAAKT,KAAL,CAAWH,OAAX,CAAmBa,MAAnB,CAA4B,CAAhC,CAAmC,CACjC,KAAKV,KAAL,CAAWC,KAAX,CAAmB,KAAKD,KAAL,CAAWG,QAAX,CAAoBQ,GAApB,CAAwB,SAACC,IAAD,CAAU,CACnD,MACA,CAACC,IAAI,cAAE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAED,IAAI,CAACE,QAA/B,CAAyC,QAAQ,CAAE,MAAI,CAACC,gBAAxD,EAAP,CACAC,EAAE,CAAEJ,IAAI,CAACK,GADT,CAEAC,QAAQ,cAAE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAE,MAAI,CAACC,oBAAlC,EAFV,CAGAC,QAAQ,cAAE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAER,IAAI,CAACQ,QAA/B,CAAyC,QAAQ,CAAE,MAAI,CAACC,oBAAxD,EAHV,CAIAC,GAAG,cAAE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEV,IAAI,CAACU,GAA/B,CAAoC,QAAQ,CAAE,MAAI,CAACC,eAAnD,EACL;AALA,CADA,CASD,CAVkB,CAAnB,CAWD,CAZD,IAYO,CACL,KAAKpB,QAAL,CAAcqB,MAAd,CAAqB,SAACC,OAAD,CAAa,CAChC,GAAIA,OAAO,CAACR,GAAR,GAAgB,MAAI,CAACjB,KAAL,CAAWH,OAA3B,EAAsC4B,OAAO,CAACX,QAAR,GAAqB,MAAI,CAACd,KAAL,CAAWH,OAA1E,CAAmF,CACjFY,cAAc,CAACiB,IAAf,CAAoBD,OAApB,EACD,CACF,CAJD,EAKA,KAAKzB,KAAL,CAAWC,KAAX,CAAmBQ,cAAc,CAACE,GAAf,CAAmB,SAACC,IAAD,CAAU,CAC9C,MACA,CAACC,IAAI,cAAE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAED,IAAI,CAACE,QAA/B,CAAyC,QAAQ,CAAE,MAAI,CAACC,gBAAxD,EAAP,CACAC,EAAE,CAAEJ,IAAI,CAACK,GADT,CAEAC,QAAQ,cAAE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAE,MAAI,CAACC,oBAAlC,EAFV,CAGAC,QAAQ,cAAE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAER,IAAI,CAACQ,QAA/B,CAAyC,QAAQ,CAAE,MAAI,CAACC,oBAAxD,EAHV,CAIAC,GAAG,cAAE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEV,IAAI,CAACU,GAA/B,CAAoC,QAAQ,CAAE,MAAI,CAACC,eAAnD,EACL;AALA,CADA,CASD,CAVkB,CAAnB,CAWD,CAGF,C,uCAEQ,oBACAI,CAAAA,GADA,CACO,KAAKlC,KADZ,CACAkC,GADA,CAEP,mBACE,oBAAC,SAAD,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,gEAEE,6BACE,SAAS,CAAC,OADZ,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,oCAHd,CAIE,KAAK,CAAE,KAAK3B,KAAL,CAAWH,OAJpB,CAKE,QAAQ,CAAE,KAAKH,YALjB,EAFF,cASE,8BACE,SAAS,CAAC,QADZ,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAC,QAHR,CAIE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACY,WAAL,EAAN,EAJX,WATF,CAiBG,KAAKsB,UAAL,EAjBH,CADF,CADF,cAsBE,8BACGD,GAAG,CAAC3B,KAAJ,CAAUK,aAAV,CAAwBD,SAAxB,CAAkCO,GAAlC,CAAsC,SAACc,OAAD,qBACrC,0BAAI,GAAG,CAAEA,OAAO,CAACI,MAAjB,eACE,oBAAC,OAAD,EACE,GAAG,CAAEJ,OAAO,CAACI,MADf,CAEE,IAAI,CAAEJ,OAAO,CAACZ,IAFhB,CAGE,MAAM,CAAEY,OAAO,CAACI,MAHlB,CAIE,SAAS,CAAEJ,OAAO,CAACK,SAJrB,CAKE,QAAQ,CAAEL,OAAO,CAACL,QALpB,EADF,cAQE,8BARF,cASE,8BATF,CADqC,EAAtC,CADH,CAtBF,CADF,CAwCD,C,uBAhIqBlC,KAAK,CAAC6C,S,EAmI9B,cAAevC,CAAAA,SAAf","sourcesContent":["import React from \"react\";\nimport { Container } from \"reactstrap\";\nimport { DataTable, TableHeader } from \"react-mdl\";\nimport { getPatients } from \"../../../actions/doctor\"\nimport Patient from \"../Patient/Patient\";\nimport \"./styles.css\";\n\nclass SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      keyword: \"\",\n      found: [],\n      search_result: null,\n      patients: [],\n      watchlist: props.state.currentDoctor.watchlist\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleAdd = this.handleAdd.bind(this);\n  }\n\n  handleChange = (event) => {\n    this.setState({\n      keyword: event.target.value,\n    });\n  };\n\n  showSearch() {\n\n    return (\n      <div>\n        <br></br> <br></br>\n        <DataTable className=\"dtable\" shadow={0} rows={[this.state.found]}>\n          <TableHeader name=\"userId\" tooltip=\"The id of patients\">\n            Id\n          </TableHeader>\n          <TableHeader name=\"name\" tooltip=\"The name of patients\">\n            Name\n          </TableHeader>\n          <TableHeader name=\"province\" tooltip=\"The province of patient(s)\">\n            Province\n          </TableHeader>\n          <TableHeader name=\"age\" tooltip=\"The age of patient(s)\">\n            Age\n          </TableHeader>\n          <TableHeader name=\"province\" tooltip=\"The gender of patient(s)\">\n            Gender\n          </TableHeader>\n          <TableHeader name=\"add\">Add</TableHeader>\n        </DataTable>\n      </div>\n    );\n  }\n\n  handleClick() {\n    // check if name or id matches\n    getPatients(this)\n\n    const found_patients = []\n    if (this.state.keyword.length < 1) {\n      this.state.found = this.state.patients.map((user) => {\n        return (\n        {name: <input type=\"text\" value={user.username} onChange={this.handleNameChange}/>, \n        Id: user._id, \n        password: <input type=\"text\" onChange={this.handlePasswordChange} />,\n        province: <input type=\"text\" value={user.province} onChange={this.handleProvinceChange} />,\n        age: <input type=\"text\" value={user.age} onChange={this.handleAgeChange} />,\n        // edit: <button onClick={()=> updatePatient(this, user)} >Edit</button>\n        }\n        )\n      })\n    } else {\n      this.patients.filter((patient) => {\n        if (patient._id === this.state.keyword || patient.username === this.state.keyword) {\n          found_patients.push(patient)\n        }\n      })\n      this.state.found = found_patients.map((user) => {\n        return (\n        {name: <input type=\"text\" value={user.username} onChange={this.handleNameChange}/>, \n        Id: user._id, \n        password: <input type=\"text\" onChange={this.handlePasswordChange} />,\n        province: <input type=\"text\" value={user.province} onChange={this.handleProvinceChange} />,\n        age: <input type=\"text\" value={user.age} onChange={this.handleAgeChange} />,\n        // edit: <button onClick={()=> updatePatient(this, user)} >Edit</button>\n        }\n        )\n      })\n    }\n\n\n  }\n\n  render() {\n    const {app} = this.props\n    return (\n      <Container>\n        <div className=\"SearchBar\">\n          <label>\n            Search Patient:\n            <input\n              className=\"input\"\n              type=\"text\"\n              placeholder=\"Search a patient by username or id\"\n              value={this.state.keyword}\n              onChange={this.handleChange}\n            />\n            <button\n              className=\"button\"\n              type=\"text\"\n              value=\"Search\"\n              onClick={() => this.handleClick()}\n            >\n              Search\n            </button>\n            {this.showSearch()}\n          </label>\n        </div>\n        <ul>\n          {app.state.currentDoctor.watchlist.map((patient) => (\n            <li key={patient.userId}>\n              <Patient\n                key={patient.userId}\n                name={patient.name}\n                userId={patient.userId}\n                checkList={patient.checklist}\n                province={patient.province}\n              />\n              <br></br>\n              <br></br>\n            </li>\n          ))}\n        </ul>\n      </Container>\n    );\n  }\n}\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}